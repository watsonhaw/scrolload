!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("Scrolload",n):t.Scrolload=n()}(this,function(){"use strict";var t=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},n=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}(),e=function(){function e(n){t(this,e);var o=$.extend(!0,{page:1,count:10,tpl:function(t){return'\n                    <div class="item">item '+t+"</div>\n                "}},n);this.page=o.page,this.count=o.count,this.data=o.data,this.totalPage=Math.ceil(this.data.length/this.count),this.$container=$(o.container),this.tpl=o.tpl,this.isLoading=!1,this.render().onScroll()}return n(e,[{key:"render",value:function(){var t=void 0,n=void 0,e=(this.page-1)*this.count,o=this.page*this.count,i=this.data.length;return o=o>i?i:o,t=this.data.slice(e,o),n=this.template(t),this.append(n),this}},{key:"template",value:function(t){var n=this,e="",o=[];return console.log(this),t.map(function(t){e=n.tpl(t),o.push(e),e=""}),o.join("")}},{key:"append",value:function(t){$(t).appendTo(this.$container),this.page++,this.isLoading=!1}},{key:"onScroll",value:function(){var t=this;$(window).on("scroll",function(){var n=$("body").height(),e=$(window).height(),o=$(window).scrollTop(),i=n-e-o;console.log(i),i<20&&!t.isLoading&&(t.isLoading=!0,console.log("is loading ..."),t.totalPage>=t.page?setTimeout(function(){t.render(),console.log("loaded.")},500):console.log("no more data."))})}}]),e}();return e});
//# sourceMappingURL=scrolload.min.js.map